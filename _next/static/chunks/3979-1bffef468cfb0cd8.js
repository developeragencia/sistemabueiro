"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3979],{33900:(e,s,a)=>{a.d(s,{p:()=>i});var l=a(95155),t=a(12115),r=a(21567);let i=t.forwardRef((e,s)=>{let{className:a,type:t,...i}=e;return(0,l.jsx)("input",{type:t,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},53979:(e,s,a)=>{a.d(s,{A:()=>I});var l=a(95155),t=a(12115),r=a(48173),i=a.n(r),n=a(76046),o=a(40767),d=a(86710),c=a(20853),x=a(35288),m=a(86889),h=a(1466),f=a(51719),u=a(68236),p=a(62455),j=a(65236),b=a(10418),g=a(28527),N=a(8926),w=a(86878),v=a(14807),y=a(21773),A=a(16233),_=a(16075),C=a(53604),k=a(92823),z=a(73312),S=a(33900),R=a(57485),B=a(83514),D=a(4254);function I(e){let{children:s}=e,a=(0,n.useRouter)(),[r,I]=(0,t.useState)(!0),[U,V]=(0,t.useState)(!1),{hasPermission:q}=(0,B.S)(),{user:E}=(0,D.C)(e=>e.auth),F=()=>V(!U),G=()=>{a.push("/")};return(0,l.jsxs)("div",{className:"h-screen flex flex-col",children:[(0,l.jsx)("header",{className:"bg-gradient-to-r from-blue-900 to-indigo-800 text-white h-16 flex items-center px-4 lg:px-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("button",{className:"lg:hidden p-2 rounded-md text-white hover:bg-white/10",onClick:F,children:U?(0,l.jsx)(o.A,{size:24}):(0,l.jsx)(d.A,{size:24})}),(0,l.jsx)("button",{className:"hidden lg:block p-2 rounded-md text-white hover:bg-white/10",onClick:()=>I(!r),children:(0,l.jsx)(d.A,{size:24})}),(0,l.jsxs)(i(),{href:"/dashboard",className:"flex items-center",children:[(0,l.jsx)("img",{src:"/logo/rocket-logo.svg",alt:"Bueiro Digital logo",className:"h-8 w-8"}),(0,l.jsx)("span",{className:"ml-2 text-lg font-bold",children:"Bueiro Digital"})]})]}),(0,l.jsx)("div",{className:"hidden md:flex items-center w-full max-w-md mx-4",children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)(c.A,{className:"h-5 w-5 text-white/60"})}),(0,l.jsx)(S.p,{type:"text",placeholder:"Buscar...",className:"pl-10 w-full rounded-lg border-0 bg-white/10 text-white placeholder:text-white/60 focus-visible:ring-white/30"})]})}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("button",{className:"p-2 rounded-full text-white hover:bg-white/10",children:(0,l.jsx)(x.A,{size:20})}),(0,l.jsx)("button",{className:"p-2 rounded-full text-white hover:bg-white/10",children:(0,l.jsx)(m.A,{size:20})}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)(R.rI,{children:[(0,l.jsx)(R.ty,{asChild:!0,children:(0,l.jsxs)("button",{className:"flex items-center space-x-2 p-2 rounded-full text-white hover:bg-white/10",children:[(0,l.jsx)("div",{className:"h-8 w-8 rounded-full bg-white/20 flex items-center justify-center text-white",children:(null==E?void 0:E.avatar)?(0,l.jsx)("img",{src:E.avatar,alt:E.name,className:"h-8 w-8 rounded-full object-cover"}):(0,l.jsx)(h.A,{size:18})}),(0,l.jsxs)("span",{className:"hidden md:flex items-center",children:[(0,l.jsx)("span",{className:"font-medium mr-1",children:(null==E?void 0:E.name)||"Usu\xe1rio"}),(0,l.jsx)(f.A,{size:16})]})]})}),(0,l.jsxs)(R.SQ,{align:"end",className:"w-56",children:[(0,l.jsx)(R.lp,{children:"Minha Conta"}),(0,l.jsx)(R.mB,{}),(0,l.jsxs)(R._2,{onClick:()=>a.push("/dashboard/profile"),children:[(0,l.jsx)(h.A,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Perfil"})]}),(0,l.jsxs)(R._2,{onClick:()=>a.push("/dashboard/settings"),children:[(0,l.jsx)(u.A,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Configura\xe7\xf5es"})]}),q("acessar_admin")&&(0,l.jsxs)(R._2,{onClick:()=>a.push("/dashboard/admin"),children:[(0,l.jsx)(p.A,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Administra\xe7\xe3o"})]}),(0,l.jsx)(R.mB,{}),(0,l.jsxs)(R._2,{onClick:G,className:"text-red-600 focus:text-red-600",children:[(0,l.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Sair"})]})]})]})})]})]})}),(0,l.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,l.jsxs)("div",{className:"lg:hidden fixed inset-0 z-50 ".concat(U?"block":"hidden"),children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:F}),(0,l.jsx)("nav",{className:"absolute left-0 top-0 bottom-0 w-64 bg-white shadow-lg",children:(0,l.jsxs)("div",{className:"h-full flex flex-col py-4",children:[(0,l.jsxs)("div",{className:"px-4 mb-6 flex items-center",children:[(0,l.jsx)("img",{src:"/logo/rocket-logo.svg",alt:"Bueiro Digital logo",className:"h-8 w-8"}),(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-900 ml-2",children:"Bueiro Digital"})]}),(0,l.jsxs)("ul",{className:"space-y-2 px-2 flex-1",children:[(0,l.jsx)(P,{icon:(0,l.jsx)(b.A,{}),label:"Dashboard",href:"/dashboard"}),(0,l.jsx)(P,{icon:(0,l.jsx)(g.A,{}),label:"Campanhas",href:"/dashboard/campaigns"}),(0,l.jsx)(P,{icon:(0,l.jsx)(N.A,{}),label:"Relat\xf3rios",href:"/dashboard/reports"}),(0,l.jsx)(P,{icon:(0,l.jsx)(w.A,{}),label:"Performance",href:"/dashboard/performance"}),(0,l.jsx)(P,{icon:(0,l.jsx)(v.A,{}),label:"Vendas",href:"/dashboard/sales"}),(0,l.jsx)(P,{icon:(0,l.jsx)(y.A,{}),label:"Integra\xe7\xf5es",href:"/dashboard/integrations"}),(0,l.jsx)(P,{icon:(0,l.jsx)(x.A,{}),label:"Notifica\xe7\xf5es",href:"/dashboard/notifications"}),(0,l.jsx)(P,{icon:(0,l.jsx)(A.A,{}),label:"Assinaturas",href:"/dashboard/subscriptions"}),(0,l.jsx)(P,{icon:(0,l.jsx)(_.A,{}),label:"Indique e Ganhe",href:"/dashboard/referrals"}),(0,l.jsx)(P,{icon:(0,l.jsx)(m.A,{}),label:"Suporte",href:"/dashboard/support"}),(0,l.jsx)(P,{icon:(0,l.jsx)(C.A,{}),label:"Status",href:"/dashboard/status"}),(0,l.jsx)(P,{icon:(0,l.jsx)(k.A,{}),label:"Usu\xe1rios",href:"/dashboard/users"}),(0,l.jsx)(P,{icon:(0,l.jsx)(u.A,{}),label:"Configura\xe7\xf5es",href:"/dashboard/settings"}),q("acessar_admin")&&(0,l.jsx)(P,{icon:(0,l.jsx)(p.A,{}),label:"Administra\xe7\xe3o",href:"/dashboard/admin",active:window.location.pathname.startsWith("/dashboard/admin")})]}),(0,l.jsx)("div",{className:"px-4 mt-6",children:(0,l.jsxs)(z.$,{variant:"outline",className:"w-full justify-start",onClick:G,children:[(0,l.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Sair"]})})]})})]}),(0,l.jsx)("div",{className:"hidden lg:block ".concat(r?"w-64":"w-20"," transition-all duration-300 border-r border-gray-200 bg-white"),children:(0,l.jsxs)("div",{className:"h-full flex flex-col py-4",children:[(0,l.jsxs)("div",{className:"px-4 mb-6 ".concat(r?"flex items-center":"flex justify-center"),children:[(0,l.jsx)("img",{src:"/logo/rocket-logo.svg",alt:"Bueiro Digital logo",className:"h-8 w-8"}),r&&(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-900 ml-2",children:"Bueiro Digital"})]}),(0,l.jsxs)("ul",{className:"space-y-2 px-2 flex-1",children:[(0,l.jsx)(P,{icon:(0,l.jsx)(b.A,{}),label:"Dashboard",href:"/dashboard",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(g.A,{}),label:"Campanhas",href:"/dashboard/campaigns",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(N.A,{}),label:"Relat\xf3rios",href:"/dashboard/reports",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(w.A,{}),label:"Performance",href:"/dashboard/performance",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(v.A,{}),label:"Vendas",href:"/dashboard/sales",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(y.A,{}),label:"Integra\xe7\xf5es",href:"/dashboard/integrations",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(x.A,{}),label:"Notifica\xe7\xf5es",href:"/dashboard/notifications",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(A.A,{}),label:"Assinaturas",href:"/dashboard/subscriptions",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(_.A,{}),label:"Indique e Ganhe",href:"/dashboard/referrals",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(m.A,{}),label:"Suporte",href:"/dashboard/support",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(C.A,{}),label:"Status",href:"/dashboard/status",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(k.A,{}),label:"Usu\xe1rios",href:"/dashboard/users",collapsed:!r}),(0,l.jsx)(P,{icon:(0,l.jsx)(u.A,{}),label:"Configura\xe7\xf5es",href:"/dashboard/settings",collapsed:!r}),q("acessar_admin")&&(0,l.jsx)(P,{icon:(0,l.jsx)(p.A,{}),label:"Administra\xe7\xe3o",href:"/dashboard/admin",active:window.location.pathname.startsWith("/dashboard/admin"),collapsed:!r})]}),(0,l.jsx)("div",{className:"px-4 mt-6",children:r?(0,l.jsxs)(z.$,{variant:"outline",className:"w-full justify-start",onClick:G,children:[(0,l.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Sair"]}):(0,l.jsx)(z.$,{variant:"outline",className:"w-full justify-center",onClick:G,children:(0,l.jsx)(j.A,{className:"h-4 w-4"})})})]})}),(0,l.jsx)("div",{className:"flex-1 overflow-auto bg-gray-50",children:s})]})]})}function P(e){let{icon:s,label:a,href:t,active:r=!1,collapsed:n=!1}=e,o=window.location.pathname===t||"/dashboard"!==t&&window.location.pathname.startsWith(t);return(0,l.jsx)("li",{children:(0,l.jsxs)(i(),{href:t,className:"flex items-center p-2 rounded-lg ".concat(o||r?"bg-primary/10 text-primary font-medium":"text-gray-700 hover:bg-gray-100"," ").concat(n?"justify-center":"justify-start"),children:[(0,l.jsx)("span",{className:"flex-shrink-0",children:s}),!n&&(0,l.jsx)("span",{className:"ml-3",children:a})]})})}},57485:(e,s,a)=>{a.d(s,{SQ:()=>m,_2:()=>h,lp:()=>f,mB:()=>u,rI:()=>c,ty:()=>x});var l=a(95155),t=a(12115),r=a(80937),i=a(46967),n=a(98867),o=a(33565),d=a(21567);let c=r.bL,x=r.l9;r.YJ,r.ZL,r.Pb,r.z6,t.forwardRef((e,s)=>{let{className:a,inset:t,children:n,...o}=e;return(0,l.jsxs)(r.ZP,{ref:s,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",a),...o,children:[n,(0,l.jsx)(i.A,{className:"ml-auto h-4 w-4"})]})}).displayName=r.ZP.displayName,t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)(r.G5,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...t})}).displayName=r.G5.displayName;let m=t.forwardRef((e,s)=>{let{className:a,sideOffset:t=4,...i}=e;return(0,l.jsx)(r.ZL,{children:(0,l.jsx)(r.UC,{ref:s,sideOffset:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});m.displayName=r.UC.displayName;let h=t.forwardRef((e,s)=>{let{className:a,inset:t,...i}=e;return(0,l.jsx)(r.q7,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",a),...i})});h.displayName=r.q7.displayName,t.forwardRef((e,s)=>{let{className:a,children:t,checked:i,...o}=e;return(0,l.jsxs)(r.H_,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:i,...o,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(r.VF,{children:(0,l.jsx)(n.A,{className:"h-4 w-4"})})}),t]})}).displayName=r.H_.displayName,t.forwardRef((e,s)=>{let{className:a,children:t,...i}=e;return(0,l.jsxs)(r.hN,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(r.VF,{children:(0,l.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),t]})}).displayName=r.hN.displayName;let f=t.forwardRef((e,s)=>{let{className:a,inset:t,...i}=e;return(0,l.jsx)(r.JU,{ref:s,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",a),...i})});f.displayName=r.JU.displayName;let u=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)(r.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...t})});u.displayName=r.wv.displayName},83514:(e,s,a)=>{a.d(s,{L:()=>x,S:()=>m});var l=a(95155),t=a(12115),r=a(76046),i=a(4254),n=a(70001),o=a(62455),d=a(73312);let c={admin:["gerenciar_usuarios","gerenciar_campanhas","gerenciar_integra\xe7\xf5es","gerenciar_configuracoes","ver_relatorios","exportar_dados","gerenciar_permissoes","acessar_admin"],editor:["gerenciar_campanhas","ver_relatorios","exportar_dados"],viewer:["ver_relatorios"]};function x(e){let{children:s,requiredPermissions:a,fallback:x}=e,[m,h]=(0,t.useState)(!0),[f,u]=(0,t.useState)(!1),p=(0,r.useRouter)(),{user:j,isAuthenticated:b}=(0,i.C)(e=>e.auth);return((0,t.useEffect)(()=>{if(!b||!j){h(!1),u(!1);return}let e=Array.isArray(a)?a:[a],s=c[j.role]||[];u(e.every(e=>s.includes(e))),h(!1)},[b,j,a]),m)?(0,l.jsxs)("div",{className:"flex items-center justify-center h-full p-8",children:[(0,l.jsx)(n.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,l.jsx)("span",{className:"ml-2 text-gray-500",children:"Verificando permiss\xf5es..."})]}):f?(0,l.jsx)(l.Fragment,{children:s}):x?(0,l.jsx)(l.Fragment,{children:x}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[(0,l.jsx)(o.A,{className:"h-16 w-16 text-amber-500 mb-4"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Restrito"}),(0,l.jsx)("p",{className:"text-gray-500 mb-6 max-w-md",children:"Voc\xea n\xe3o tem permiss\xe3o para acessar esta funcionalidade. Entre em contato com um administrador para solicitar acesso."}),(0,l.jsx)(d.$,{onClick:()=>p.push("/dashboard"),className:"bg-primary text-white",children:"Voltar para o Dashboard"})]})}function m(){let{user:e}=(0,i.C)(e=>e.auth);return{hasPermission:s=>{if(!e)return!1;let a=Array.isArray(s)?s:[s],l=c[e.role]||[];return a.every(e=>l.includes(e))}}}}}]);