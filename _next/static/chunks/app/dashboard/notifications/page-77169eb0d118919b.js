(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1654],{22130:(e,a,t)=>{"use strict";t.d(a,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>n,wL:()=>m});var s=t(95155),r=t(12115),i=t(21567);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...r})});l.displayName="Card";let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},36972:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(82800).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},45686:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(82800).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},48617:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(82800).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},57564:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(82800).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},58629:(e,a,t)=>{"use strict";t.d(a,{B8:()=>T,UC:()=>V,bL:()=>M,l9:()=>I});var s=t(12115),r=t(93610),i=t(18166),l=t(67357),n=t(17028),c=t(23360),d=t(4256),o=t(1488),m=t(67668),x=t(95155),u="Tabs",[f,h]=(0,i.A)(u,[l.RG]),y=(0,l.RG)(),[p,j]=f(u),v=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:s,onValueChange:r,defaultValue:i,orientation:l="horizontal",dir:n,activationMode:u="automatic",...f}=e,h=(0,d.jH)(n),[y,j]=(0,o.i)({prop:s,onChange:r,defaultProp:i});return(0,x.jsx)(p,{scope:t,baseId:(0,m.B)(),value:y,onValueChange:j,orientation:l,dir:h,activationMode:u,children:(0,x.jsx)(c.sG.div,{dir:h,"data-orientation":l,...f,ref:a})})});v.displayName=u;var g="TabsList",N=s.forwardRef((e,a)=>{let{__scopeTabs:t,loop:s=!0,...r}=e,i=j(g,t),n=y(t);return(0,x.jsx)(l.bL,{asChild:!0,...n,orientation:i.orientation,dir:i.dir,loop:s,children:(0,x.jsx)(c.sG.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:a})})});N.displayName=g;var b="TabsTrigger",w=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:s,disabled:i=!1,...n}=e,d=j(b,t),o=y(t),m=A(d.baseId,s),u=R(d.baseId,s),f=s===d.value;return(0,x.jsx)(l.q7,{asChild:!0,...o,focusable:!i,active:f,children:(0,x.jsx)(c.sG.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...n,ref:a,onMouseDown:(0,r.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(s)}),onKeyDown:(0,r.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(s)}),onFocus:(0,r.m)(e.onFocus,()=>{let e="manual"!==d.activationMode;f||i||!e||d.onValueChange(s)})})})});w.displayName=b;var k="TabsContent",C=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,forceMount:i,children:l,...d}=e,o=j(k,t),m=A(o.baseId,r),u=R(o.baseId,r),f=r===o.value,h=s.useRef(f);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(n.C,{present:i||f,children:t=>{let{present:s}=t;return(0,x.jsx)(c.sG.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":m,hidden:!s,id:u,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&l})}})});function A(e,a){return"".concat(e,"-trigger-").concat(a)}function R(e,a){return"".concat(e,"-content-").concat(a)}C.displayName=k;var M=v,T=N,I=w,V=C},62884:(e,a,t)=>{"use strict";t.d(a,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>n});var s=t(95155),r=t(12115),i=t(58629),l=t(21567);let n=i.bL,c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.B8,{ref:a,className:(0,l.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...r})});c.displayName=i.B8.displayName;let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.l9,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...r})});d.displayName=i.l9.displayName;let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.UC,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=i.UC.displayName},68141:(e,a,t)=>{Promise.resolve().then(t.bind(t,87436))},70477:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(82800).A)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},83595:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(82800).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},84267:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(82800).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},87436:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>k});var s=t(95155),r=t(12115),i=t(31473),l=t(42725),n=t(48173),c=t.n(n),d=t(70477),o=t(36972),m=t(57564),x=t(48617),u=t(35288);let f=(0,t(82800).A)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var h=t(84267),y=t(83595),p=t(45686),j=t(73312),v=t(22130),g=t(57485),N=t(62884),b=t(53979),w=t(4254);function k(){let{notifications:e,markNotificationAsRead:a,deleteNotification:t}=(0,w.C)(e=>({notifications:e.notifications,markNotificationAsRead:e.markNotificationAsRead,deleteNotification:e.deleteNotification})),n=(0,w.C)(e=>e.auth.user),[k,C]=(0,r.useState)("all"),A=e.filter(e=>e.userId===(null==n?void 0:n.id)),R="all"===k?A:A.filter(e=>!e.read),M=[...R].sort((e,a)=>new Date(a.dateCreated).getTime()-new Date(e.dateCreated).getTime()),T=A.filter(e=>!e.read).length,I=async e=>{try{await a(e)}catch(e){console.error("Error marking notification as read:",e)}},V=async e=>{try{await t(e)}catch(e){console.error("Error deleting notification:",e)}},z=async()=>{try{let e=R.filter(e=>!e.read).map(e=>a(e.id));await Promise.all(e)}catch(e){console.error("Error marking all notifications as read:",e)}},D=e=>{switch(e){case"success":return(0,s.jsx)(d.A,{className:"h-5 w-5 text-green-600"});case"error":return(0,s.jsx)(o.A,{className:"h-5 w-5 text-red-600"});case"warning":return(0,s.jsx)(m.A,{className:"h-5 w-5 text-amber-600"});default:return(0,s.jsx)(x.A,{className:"h-5 w-5 text-blue-600"})}},E=e=>{let a=new Date(e);return(0,i.GP)(a,"d 'de' MMMM '\xe0s' HH:mm",{locale:l.F})};return(0,s.jsx)(b.A,{children:(0,s.jsxs)("div",{className:"container mx-auto py-6 px-4 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,s.jsx)(u.A,{className:"mr-2 h-6 w-6 text-primary"}),"Notifica\xe7\xf5es",T>0&&(0,s.jsxs)("span",{className:"ml-2 px-2 py-1 text-xs bg-primary text-white rounded-full",children:[T," n\xe3o lidas"]})]}),(0,s.jsx)("p",{className:"text-gray-500",children:"Gerencie suas notifica\xe7\xf5es e mantenha-se atualizado."})]}),(0,s.jsxs)("div",{className:"mt-4 md:mt-0 flex space-x-2",children:[(0,s.jsxs)(j.$,{variant:"outline",size:"sm",onClick:z,disabled:0===T,children:[(0,s.jsx)(f,{className:"mr-2 h-4 w-4"}),"Marcar todas como lidas"]}),(0,s.jsxs)(g.rI,{children:[(0,s.jsx)(g.ty,{asChild:!0,children:(0,s.jsxs)(j.$,{variant:"outline",size:"sm",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Filtrar"]})}),(0,s.jsxs)(g.SQ,{align:"end",children:[(0,s.jsx)(g.lp,{children:"Filtrar por"}),(0,s.jsx)(g._2,{onClick:()=>C("all"),children:"Todas"}),(0,s.jsx)(g._2,{onClick:()=>C("unread"),children:"N\xe3o lidas"})]})]})]})]}),(0,s.jsxs)(N.tU,{defaultValue:"all",children:[(0,s.jsxs)(N.j7,{className:"mb-4",children:[(0,s.jsx)(N.Xi,{value:"all",children:"Todas"}),(0,s.jsx)(N.Xi,{value:"success",children:"Sucesso"}),(0,s.jsx)(N.Xi,{value:"info",children:"Informa\xe7\xf5es"}),(0,s.jsx)(N.Xi,{value:"warning",children:"Alertas"}),(0,s.jsx)(N.Xi,{value:"error",children:"Erros"})]}),["all","success","info","warning","error"].map(e=>(0,s.jsx)(N.av,{value:e,children:(0,s.jsxs)(v.Zp,{children:[(0,s.jsxs)(v.aR,{children:[(0,s.jsx)(v.ZB,{children:"all"===e?"Todas as notifica\xe7\xf5es":"Notifica\xe7\xf5es de ".concat("success"===e?"sucesso":"info"===e?"informa\xe7\xf5es":"warning"===e?"alertas":"erros")}),(0,s.jsx)(v.BT,{children:"all"===e?"Veja todas as suas notifica\xe7\xf5es":"Apenas notifica\xe7\xf5es do tipo ".concat("success"===e?"sucesso":"info"===e?"informa\xe7\xf5es":"warning"===e?"alertas":"erros")})]}),(0,s.jsx)(v.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[M.filter(a=>"all"===e||a.type===e).map(e=>(0,s.jsxs)("div",{className:"flex items-start p-4 rounded-lg ".concat(e.read?"bg-gray-50":"bg-blue-50"," relative transition-all hover:shadow-sm"),children:[(0,s.jsx)("div",{className:"flex-shrink-0 mr-4",children:D(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-sm font-medium ".concat(e.read?"text-gray-900":"text-gray-900 font-semibold"),children:e.title}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:E(e.dateCreated)})]}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:e.message}),e.link&&(0,s.jsx)(c(),{href:e.link,className:"mt-2 inline-flex text-sm text-primary hover:underline",children:"Ver detalhes"})]}),(0,s.jsx)("div",{className:"ml-4",children:(0,s.jsxs)(g.rI,{children:[(0,s.jsx)(g.ty,{asChild:!0,children:(0,s.jsx)(j.$,{variant:"ghost",size:"sm",children:(0,s.jsx)(y.A,{className:"h-4 w-4"})})}),(0,s.jsxs)(g.SQ,{align:"end",children:[!e.read&&(0,s.jsxs)(g._2,{onClick:()=>I(e.id),children:[(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Marcar como lida"]}),(0,s.jsxs)(g._2,{onClick:()=>V(e.id),children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})}),!e.read&&(0,s.jsx)("div",{className:"absolute top-4 right-4 h-2 w-2 bg-blue-500 rounded-full"})]},e.id)),0===M.filter(a=>"all"===e||a.type===e).length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(u.A,{className:"mx-auto h-12 w-12 text-gray-300"}),(0,s.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Nenhuma notifica\xe7\xe3o"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"unread"===k?"Voc\xea n\xe3o tem notifica\xe7\xf5es n\xe3o lidas no momento.":"Voc\xea n\xe3o tem notifica\xe7\xf5es nesta categoria."})]})]})})]})},e))]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[6978,4826,6300,2005,5049,3979,8441,6587,7358],()=>a(68141)),_N_E=e.O()}]);