(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4274],{5873:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(95155),r=a(12115),l=a(83514),i=a(4254),n=a(53979),d=a(22130),c=a(73312),o=a(33900),x=a(92823),m=a(3500),u=a(84267),h=a(20853),p=a(62455),j=a(50878),g=a(21610),f=a(22552),N=a(28880),v=a(66462),y=a(48686),w=a(45686),b=a(51344);function C(){let{users:e}=(0,i.C)(e=>({users:e.users})),[s,a]=(0,r.useState)(""),[C,A]=(0,r.useState)("all"),[k,S]=(0,r.useState)("all"),[E,R]=(0,r.useState)([]),[L,z]=(0,r.useState)(!1),[F,P]=(0,r.useState)({name:"",email:"",role:"viewer",status:"active"}),D=e.filter(e=>{let a=e.name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase()),t="all"===C||e.role===C,r="all"===k||e.status===k;return a&&t&&r}),U=e=>{E.includes(e)?R(E.filter(s=>s!==e)):R([...E,e])},$=(e,s)=>{P({...F,[e]:s})},_=async()=>{await i.C.getState().addUser({...F,dateCreated:new Date().toISOString(),lastActive:new Date().toISOString(),status:F.status}),z(!1),P({name:"",email:"",role:"viewer",status:"active"})};return(0,t.jsx)(n.A,{children:(0,t.jsx)(l.L,{requiredPermissions:"gerenciar_usuarios",children:(0,t.jsxs)("div",{className:"container mx-auto py-6 px-4 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,t.jsx)(x.A,{className:"mr-2 h-6 w-6 text-primary"}),"Gerenciamento de Usu\xe1rios"]}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Adicione, edite e gerencie usu\xe1rios do sistema"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)(b.lG,{open:L,onOpenChange:z,children:[(0,t.jsx)(b.zM,{asChild:!0,children:(0,t.jsxs)(c.$,{className:"bg-primary text-white",children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Novo Usu\xe1rio"]})}),(0,t.jsxs)(b.Cf,{className:"sm:max-w-md",children:[(0,t.jsxs)(b.c7,{children:[(0,t.jsx)(b.L3,{children:"Adicionar Novo Usu\xe1rio"}),(0,t.jsx)(b.rr,{children:"Preencha os dados para criar um novo usu\xe1rio no sistema"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"user-name",className:"text-sm font-medium text-gray-700",children:"Nome Completo"}),(0,t.jsx)(o.p,{id:"user-name",placeholder:"Nome do usu\xe1rio",value:F.name,onChange:e=>$("name",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"user-email",className:"text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)(o.p,{id:"user-email",type:"email",placeholder:"email@exemplo.com",value:F.email,onChange:e=>$("email",e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"user-role",className:"text-sm font-medium text-gray-700",children:"Perfil"}),(0,t.jsxs)("select",{id:"user-role",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:F.role,onChange:e=>$("role",e.target.value),children:[(0,t.jsx)("option",{value:"admin",children:"Administrador"}),(0,t.jsx)("option",{value:"editor",children:"Editor"}),(0,t.jsx)("option",{value:"viewer",children:"Visualizador"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"user-status",className:"text-sm font-medium text-gray-700",children:"Status"}),(0,t.jsxs)("select",{id:"user-status",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:F.status,onChange:e=>$("status",e.target.value),children:[(0,t.jsx)("option",{value:"active",children:"Ativo"}),(0,t.jsx)("option",{value:"inactive",children:"Inativo"}),(0,t.jsx)("option",{value:"pending",children:"Pendente"})]})]})]})]}),(0,t.jsxs)(b.Es,{children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>z(!1),children:"Cancelar"}),(0,t.jsx)(c.$,{onClick:_,disabled:!F.name||!F.email,children:"Criar Usu\xe1rio"})]})]})]}),(0,t.jsxs)(c.$,{variant:"outline",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Filtros Avan\xe7ados"]})]})]}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)(o.p,{type:"text",placeholder:"Buscar usu\xe1rios por nome ou email...",className:"pl-10 w-full",value:s,onChange:e=>a(e.target.value)})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)("div",{className:"w-full sm:w-[150px]",children:(0,t.jsxs)("select",{className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:C,onChange:e=>A(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"Todos Perfis"}),(0,t.jsx)("option",{value:"admin",children:"Administradores"}),(0,t.jsx)("option",{value:"editor",children:"Editores"}),(0,t.jsx)("option",{value:"viewer",children:"Visualizadores"})]})}),(0,t.jsx)("div",{className:"w-full sm:w-[150px]",children:(0,t.jsxs)("select",{className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:k,onChange:e=>S(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"Todos Status"}),(0,t.jsx)("option",{value:"active",children:"Ativos"}),(0,t.jsx)("option",{value:"inactive",children:"Inativos"}),(0,t.jsx)("option",{value:"pending",children:"Pendentes"})]})})]})]})}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[(0,t.jsx)(d.ZB,{children:"Lista de Usu\xe1rios"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Mostrando ",D.length," de ",e.length," usu\xe1rios"]})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left",children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",checked:E.length===D.length&&D.length>0,onChange:()=>{E.length===D.length?R([]):R(D.map(e=>e.id))}})})}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usu\xe1rio"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perfil"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xdaltimo Acesso"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Cria\xe7\xe3o"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[D.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",checked:E.includes(e.id),onChange:()=>U(e.id)})})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-medium",children:e.avatar?(0,t.jsx)("img",{src:e.avatar,alt:e.name,className:"h-10 w-10 rounded-full object-cover"}):e.name.split(" ").map(e=>e[0]).join("").toUpperCase()}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("admin"===e.role?"bg-amber-100 text-amber-800":"editor"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:["admin"===e.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Administrador"]}),"editor"===e.role&&"Editor","viewer"===e.role&&"Visualizador"]})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"inactive"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:["active"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{className:"h-3 w-3 mr-1"}),"Ativo"]}),"inactive"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{className:"h-3 w-3 mr-1"}),"Inativo"]}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"h-3 w-3 mr-1"}),"Pendente"]})]})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.lastActive).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.dateCreated).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-900",title:"Editar",children:(0,t.jsx)(N.A,{className:"h-5 w-5"})}),(0,t.jsx)("button",{className:"text-gray-600 hover:text-gray-900",title:"Enviar Email",children:(0,t.jsx)(v.A,{className:"h-5 w-5"})}),(0,t.jsx)("button",{className:"text-amber-600 hover:text-amber-900",title:"Redefinir Senha",children:(0,t.jsx)(y.A,{className:"h-5 w-5"})}),(0,t.jsx)("button",{className:"text-red-600 hover:text-red-900",title:"Remover",children:(0,t.jsx)(w.A,{className:"h-5 w-5"})})]})})]},e.id)),0===D.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-4 py-4 text-center text-gray-500",children:"Nenhum usu\xe1rio encontrado com os filtros selecionados."})})]})]})})}),(0,t.jsxs)(d.wL,{className:"flex justify-between border-t bg-gray-50 px-6 py-3",children:[(0,t.jsx)("div",{className:"flex items-center",children:E.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-sm text-gray-700 mr-4",children:[E.length," usu\xe1rio(s) selecionado(s)"]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(c.$,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 mr-1"}),"Excluir"]}),(0,t.jsxs)(c.$,{size:"sm",variant:"outline",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-1"}),"Enviar Email"]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.$,{size:"sm",variant:"outline",disabled:0===D.length,children:"Anterior"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"P\xe1gina 1 de 1"}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",disabled:0===D.length,children:"Pr\xf3xima"})]})]})]})]})})})}},22130:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>x});var t=a(95155),r=a(12115),l=a(21567);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent";let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});x.displayName="CardFooter"},51344:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>m,Es:()=>h,L3:()=>p,c7:()=>u,lG:()=>d,rr:()=>j,zM:()=>c});var t=a(95155),r=a(12115),l=a(66217),i=a(40767),n=a(21567);let d=l.bL,c=l.l9,o=l.ZL;l.bm;let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});x.displayName=l.hJ.displayName;let m=r.forwardRef((e,s)=>{let{className:a,children:r,...d}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(x,{}),(0,t.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};u.displayName="DialogHeader";let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};h.displayName="DialogFooter";let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=l.hE.displayName;let j=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});j.displayName=l.VY.displayName},82007:(e,s,a)=>{Promise.resolve().then(a.bind(a,5873))}},e=>{var s=s=>e(e.s=s);e.O(0,[6978,4826,6300,9279,5049,3979,8441,6587,7358],()=>s(82007)),_N_E=e.O()}]);