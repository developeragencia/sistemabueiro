(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8870],{22130:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>t,aR:()=>l,wL:()=>m});var i=a(95155),r=a(12115),d=a(21567);let t=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});t.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...r})});n.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,d.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)("div",{ref:s,className:(0,d.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"},29541:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>_});var i=a(95155),r=a(12115),d=a(83514),t=a(53979),l=a(22130),n=a(73312),c=a(33900),o=a(92823),m=a(70147),x=a(14081),p=a(68236),h=a(48686),u=a(42640),f=a(3500),j=a(50878),g=a(28880),N=a(33873),v=a(40767),b=a(87780),y=a(51344);let w=[{id:"usuarios",name:"Usu\xe1rios",icon:(0,i.jsx)(o.A,{className:"h-5 w-5 text-blue-600"}),permissions:[{id:"gerenciar_usuarios",name:"Gerenciar usu\xe1rios",description:"Criar, editar e excluir usu\xe1rios"},{id:"ver_usuarios",name:"Visualizar usu\xe1rios",description:"Ver lista de usu\xe1rios"}]},{id:"campanhas",name:"Campanhas",icon:(0,i.jsx)(m.A,{className:"h-5 w-5 text-indigo-600"}),permissions:[{id:"gerenciar_campanhas",name:"Gerenciar campanhas",description:"Criar, editar e excluir campanhas"},{id:"ver_campanhas",name:"Visualizar campanhas",description:"Ver campanhas existentes"}]},{id:"relatorios",name:"Relat\xf3rios",icon:(0,i.jsx)(x.A,{className:"h-5 w-5 text-green-600"}),permissions:[{id:"ver_relatorios",name:"Visualizar relat\xf3rios",description:"Acesso aos relat\xf3rios do sistema"},{id:"exportar_dados",name:"Exportar dados",description:"Exportar dados para CSV/Excel"}]},{id:"configuracoes",name:"Configura\xe7\xf5es",icon:(0,i.jsx)(p.A,{className:"h-5 w-5 text-gray-600"}),permissions:[{id:"gerenciar_configuracoes",name:"Gerenciar configura\xe7\xf5es",description:"Alterar configura\xe7\xf5es do sistema"},{id:"gerenciar_integra\xe7\xf5es",name:"Gerenciar integra\xe7\xf5es",description:"Configurar integra\xe7\xf5es com plataformas"}]},{id:"admin",name:"Administra\xe7\xe3o",icon:(0,i.jsx)(h.A,{className:"h-5 w-5 text-amber-600"}),permissions:[{id:"gerenciar_permissoes",name:"Gerenciar permiss\xf5es",description:"Configurar perfis e permiss\xf5es"},{id:"acessar_admin",name:"Acessar painel admin",description:"Acesso ao painel administrativo"}]}],C=[{id:"admin",name:"Administrador",description:"Acesso completo a todas as funcionalidades",permissions:["gerenciar_usuarios","ver_usuarios","gerenciar_campanhas","ver_campanhas","ver_relatorios","exportar_dados","gerenciar_configuracoes","gerenciar_integra\xe7\xf5es","gerenciar_permissoes","acessar_admin"],editable:!1},{id:"editor",name:"Editor",description:"Pode editar campanhas e visualizar relat\xf3rios",permissions:["ver_usuarios","gerenciar_campanhas","ver_campanhas","ver_relatorios","exportar_dados"],editable:!0},{id:"viewer",name:"Visualizador",description:"Acesso somente para visualiza\xe7\xe3o",permissions:["ver_campanhas","ver_relatorios"],editable:!0}];function _(){let[e,s]=(0,r.useState)(C),[a,o]=(0,r.useState)(C[0]),[m,x]=(0,r.useState)(!1),[p,_]=(0,r.useState)(null),[A,k]=(0,r.useState)(!1),[z,E]=(0,r.useState)({id:"",name:"",description:"",permissions:[],editable:!0}),R=e=>{o(e),x(!1)},P=e=>{m&&p&&(p.permissions.includes(e)?_({...p,permissions:p.permissions.filter(s=>s!==e)}):_({...p,permissions:[...p.permissions,e]}))},L=(e,s)=>{E({...z,[e]:s})},S=e=>{z.permissions.includes(e)?E({...z,permissions:z.permissions.filter(s=>s!==e)}):E({...z,permissions:[...z.permissions,e]})},V=(e,s)=>e.permissions.includes(s);return(0,i.jsx)(t.A,{children:(0,i.jsx)(d.L,{requiredPermissions:"gerenciar_permissoes",children:(0,i.jsxs)("div",{className:"container mx-auto py-6 px-4 lg:px-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,i.jsx)(u.A,{className:"mr-2 h-6 w-6 text-primary"}),"Perfis e Permiss\xf5es"]}),(0,i.jsx)("p",{className:"text-gray-500 mt-1",children:"Configure perfis de acesso e permiss\xf5es do sistema"})]}),(0,i.jsx)("div",{children:(0,i.jsxs)(y.lG,{open:A,onOpenChange:k,children:[(0,i.jsx)(y.zM,{asChild:!0,children:(0,i.jsxs)(n.$,{className:"bg-primary text-white",children:[(0,i.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Novo Perfil"]})}),(0,i.jsxs)(y.Cf,{className:"sm:max-w-lg",children:[(0,i.jsxs)(y.c7,{children:[(0,i.jsx)(y.L3,{children:"Criar Novo Perfil"}),(0,i.jsx)(y.rr,{children:"Configure um novo perfil de acesso com permiss\xf5es espec\xedficas"})]}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"role-name",className:"text-sm font-medium text-gray-700",children:"Nome do Perfil"}),(0,i.jsx)(c.p,{id:"role-name",placeholder:"Ex: Gerente de Marketing",value:z.name,onChange:e=>L("name",e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"role-id",className:"text-sm font-medium text-gray-700",children:"Identificador"}),(0,i.jsx)(c.p,{id:"role-id",placeholder:"Ex: marketing_manager",value:z.id,onChange:e=>L("id",e.target.value.toLowerCase().replace(/\s+/g,"_"))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"role-description",className:"text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),(0,i.jsx)(c.p,{id:"role-description",placeholder:"Descri\xe7\xe3o do perfil e suas responsabilidades",value:z.description,onChange:e=>L("description",e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Permiss\xf5es"}),(0,i.jsx)("div",{className:"border rounded-md overflow-hidden",children:w.map(e=>(0,i.jsxs)("div",{className:"border-b last:border-b-0",children:[(0,i.jsxs)("div",{className:"flex items-center bg-gray-50 px-4 py-2",children:[e.icon,(0,i.jsx)("span",{className:"ml-2 font-medium",children:e.name})]}),(0,i.jsx)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:e.permissions.map(e=>(0,i.jsxs)("div",{className:"flex items-start",onClick:()=>S(e.id),children:[(0,i.jsx)("div",{className:"flex-shrink-0 h-5 w-5 rounded border text-white flex items-center justify-center ".concat(V(z,e.id)?"bg-primary border-primary":"border-gray-300"),children:V(z,e.id)&&(0,i.jsx)(j.A,{className:"h-4 w-4"})}),(0,i.jsxs)("div",{className:"ml-3 cursor-pointer",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]},e.id))})]})]}),(0,i.jsxs)(y.Es,{children:[(0,i.jsx)(n.$,{variant:"outline",onClick:()=>k(!1),children:"Cancelar"}),(0,i.jsx)(n.$,{onClick:()=>{z.name&&z.id&&(s([...e,z]),E({id:"",name:"",description:"",permissions:[],editable:!0}),k(!1))},disabled:!z.name||!z.id,children:"Criar Perfil"})]})]})]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsx)("div",{className:"md:col-span-1",children:(0,i.jsxs)(l.Zp,{className:"h-full",children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Perfis de Acesso"}),(0,i.jsx)(l.BT,{children:"Selecione um perfil para visualizar ou editar"})]}),(0,i.jsx)(l.Wu,{className:"p-0",children:(0,i.jsx)("div",{className:"divide-y",children:e.map(e=>(0,i.jsx)("div",{className:"p-4 cursor-pointer hover:bg-gray-50 ".concat(a.id===e.id?"bg-blue-50":""),onClick:()=>R(e),children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("div",{className:"h-8 w-8 rounded-full flex items-center justify-center ".concat("admin"===e.id?"bg-amber-100 text-amber-700":"editor"===e.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:["admin"===e.id&&(0,i.jsx)(h.A,{className:"h-4 w-4"}),"editor"===e.id&&(0,i.jsx)(g.A,{className:"h-4 w-4"}),"viewer"===e.id&&(0,i.jsx)(N.A,{className:"h-4 w-4"}),!["admin","editor","viewer"].includes(e.id)&&(0,i.jsx)(u.A,{className:"h-4 w-4"})]}),(0,i.jsxs)("div",{className:"ml-3",children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:[e.permissions.length," permiss\xf5es"]})]})]})},e.id))})}),(0,i.jsx)(l.wL,{className:"bg-gray-50 border-t",children:(0,i.jsxs)("p",{className:"text-xs text-gray-500 w-full text-center",children:[e.length," perfis configurados"]})})]})}),(0,i.jsx)("div",{className:"md:col-span-2",children:(0,i.jsxs)(l.Zp,{className:"h-full",children:[(0,i.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)(l.ZB,{className:"flex items-center",children:["admin"===a.id&&(0,i.jsx)(h.A,{className:"h-5 w-5 mr-2 text-amber-600"}),"editor"===a.id&&(0,i.jsx)(g.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"viewer"===a.id&&(0,i.jsx)(N.A,{className:"h-5 w-5 mr-2 text-gray-600"}),!["admin","editor","viewer"].includes(a.id)&&(0,i.jsx)(u.A,{className:"h-5 w-5 mr-2 text-purple-600"}),a.name]}),(0,i.jsx)(l.BT,{children:a.description})]}),a.editable&&(0,i.jsx)("div",{children:m?(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>{x(!1),_(null)},children:[(0,i.jsx)(v.A,{className:"h-4 w-4 mr-1"}),"Cancelar"]}),(0,i.jsxs)(n.$,{size:"sm",onClick:()=>{p&&(s(e=>e.map(e=>e.id===p.id?p:e)),o(p),x(!1),_(null))},children:[(0,i.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Salvar"]})]}):(0,i.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>{_({...a}),x(!0)},children:[(0,i.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Editar"]})})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsx)("div",{className:"space-y-6",children:w.map(e=>(0,i.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center bg-gray-50 px-4 py-2",children:[e.icon,(0,i.jsx)("span",{className:"ml-2 font-medium",children:e.name})]}),(0,i.jsx)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:e.permissions.map(e=>(0,i.jsxs)("div",{className:"flex items-start",onClick:()=>m&&P(e.id),children:[(0,i.jsx)("div",{className:"flex-shrink-0 h-5 w-5 rounded border text-white flex items-center justify-center ".concat(m?"cursor-pointer":""," ").concat(V(m&&p?p:a,e.id)?"bg-primary border-primary":"border-gray-300"),children:V(m&&p?p:a,e.id)&&(0,i.jsx)(j.A,{className:"h-4 w-4"})}),(0,i.jsxs)("div",{className:"ml-3 ".concat(m?"cursor-pointer":""),children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]},e.id))})}),!m&&(0,i.jsx)(l.wL,{className:"bg-gray-50 border-t",children:(0,i.jsx)("div",{className:"w-full",children:(0,i.jsxs)("p",{className:"text-sm text-gray-500",children:["Este perfil possui ",(0,i.jsx)("span",{className:"font-medium",children:a.permissions.length})," permiss\xf5es ativas.",!a.editable&&(0,i.jsx)("span",{className:"ml-2 text-amber-600",children:"Este \xe9 um perfil de sistema e n\xe3o pode ser editado."})]})})})]})})]})]})})})}},51344:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>x,Es:()=>h,L3:()=>u,c7:()=>p,lG:()=>n,rr:()=>f,zM:()=>c});var i=a(95155),r=a(12115),d=a(66217),t=a(40767),l=a(21567);let n=d.bL,c=d.l9,o=d.ZL;d.bm;let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)(d.hJ,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=d.hJ.displayName;let x=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,i.jsxs)(o,{children:[(0,i.jsx)(m,{}),(0,i.jsxs)(d.UC,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,i.jsxs)(d.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(t.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=d.UC.displayName;let p=e=>{let{className:s,...a}=e;return(0,i.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};p.displayName="DialogHeader";let h=e=>{let{className:s,...a}=e;return(0,i.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};h.displayName="DialogFooter";let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)(d.hE,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});u.displayName=d.hE.displayName;let f=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)(d.VY,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});f.displayName=d.VY.displayName},53995:(e,s,a)=>{Promise.resolve().then(a.bind(a,29541))}},e=>{var s=s=>e(e.s=s);e.O(0,[6978,4826,6300,6887,5049,3979,8441,6587,7358],()=>s(53995)),_N_E=e.O()}]);