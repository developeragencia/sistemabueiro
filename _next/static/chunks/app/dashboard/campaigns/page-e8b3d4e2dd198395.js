(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5381],{9434:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(95155),r=a(12115),l=a(76046),i=a(33473),c=a(20853),n=a(84267),d=a(48251),x=a(51719),m=a(50878),o=a(23920),h=a(35765),p=a(28880),u=a(92598),j=a(45686),y=a(36972),g=a(4254),f=a(73312),N=a(33900),v=a(22130),w=a(53979);function b(){let e=(0,l.useRouter)(),{campaigns:s,deleteCampaign:a}=(0,g.C)(),[b,k]=(0,r.useState)(""),[C,A]=(0,r.useState)("lastUpdated"),[R,L]=(0,r.useState)("desc"),[M,T]=(0,r.useState)("all"),[S,z]=(0,r.useState)(null),[B,Z]=(0,r.useState)(null),U=s.filter(e=>{let s=e.name.toLowerCase().includes(b.toLowerCase())||e.url.toLowerCase().includes(b.toLowerCase())||e.utmSource.toLowerCase().includes(b.toLowerCase())||e.utmMedium.toLowerCase().includes(b.toLowerCase()),a="all"===M||e.status===M;return s&&a}).sort((e,s)=>{if("name"===C)return"asc"===R?e.name.localeCompare(s.name):s.name.localeCompare(e.name);if("lastUpdated"===C)return"asc"===R?new Date(e.dateUpdated).getTime()-new Date(s.dateUpdated).getTime():new Date(s.dateUpdated).getTime()-new Date(e.dateUpdated).getTime();let a=e[C],t=s[C];return"number"==typeof a&&"number"==typeof t?"asc"===R?a-t:t-a:0}),$=e=>{C===e?L("asc"===R?"desc":"asc"):(A(e),L("desc"))},E=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},F=(e,s)=>{navigator.clipboard.writeText(e),Z(s),setTimeout(()=>{Z(null)},2e3)},V=s.reduce((e,s)=>e+(s.visits||0),0),q=s.reduce((e,s)=>e+s.conversions,0),D=s.reduce((e,s)=>e+s.revenue,0),P=V>0?q/V*100:0;return(0,t.jsx)(w.A,{children:(0,t.jsxs)("div",{className:"container mx-auto py-6 px-4 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Campanhas"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Gerencie todas as suas campanhas de marketing"})]}),(0,t.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,t.jsxs)(f.$,{className:"bg-primary text-white flex items-center",onClick:()=>e.push("/dashboard/campaigns/new"),children:[(0,t.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Nova Campanha"]})})]}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)(N.p,{type:"text",placeholder:"Buscar campanhas...",className:"pl-10 w-full",value:b,onChange:e=>k(e.target.value)})]})}),(0,t.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,t.jsx)("div",{className:"w-[150px]",children:(0,t.jsxs)("select",{className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:M,onChange:e=>T(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"Todos Status"}),(0,t.jsx)("option",{value:"active",children:"Ativas"}),(0,t.jsx)("option",{value:"paused",children:"Pausadas"}),(0,t.jsx)("option",{value:"draft",children:"Rascunho"})]})}),(0,t.jsxs)(f.$,{variant:"outline",className:"flex items-center",children:[(0,t.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Mais Filtros"]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,t.jsxs)(v.Zp,{children:[(0,t.jsx)(v.aR,{className:"pb-2",children:(0,t.jsx)(v.ZB,{className:"text-sm font-medium text-gray-500",children:"Total de Visitas"})}),(0,t.jsxs)(v.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:V.toLocaleString("pt-BR")}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Todos os canais"})]})]}),(0,t.jsxs)(v.Zp,{children:[(0,t.jsx)(v.aR,{className:"pb-2",children:(0,t.jsx)(v.ZB,{className:"text-sm font-medium text-gray-500",children:"Convers\xf5es"})}),(0,t.jsxs)(v.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:q.toLocaleString("pt-BR")}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Total de convers\xf5es"})]})]}),(0,t.jsxs)(v.Zp,{children:[(0,t.jsx)(v.aR,{className:"pb-2",children:(0,t.jsx)(v.ZB,{className:"text-sm font-medium text-gray-500",children:"Receita Total"})}),(0,t.jsxs)(v.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["R$ ",D.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Todos os canais"})]})]}),(0,t.jsxs)(v.Zp,{children:[(0,t.jsx)(v.aR,{className:"pb-2",children:(0,t.jsx)(v.ZB,{className:"text-sm font-medium text-gray-500",children:"Taxa de Convers\xe3o"})}),(0,t.jsxs)(v.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold flex items-center",children:[P.toFixed(2),"%",(0,t.jsx)(d.A,{className:"ml-2 h-5 w-5 text-green-500"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"M\xe9dia de todas as campanhas"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("name"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["Nome da Campanha","name"===C&&(0,t.jsx)(x.A,{className:"ml-1 h-4 w-4 ".concat("desc"===R?"transform rotate-180":"")})]})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("visits"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["Visitas","visits"===C&&(0,t.jsx)(x.A,{className:"ml-1 h-4 w-4 ".concat("desc"===R?"transform rotate-180":"")})]})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("conversions"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["Convers\xf5es","conversions"===C&&(0,t.jsx)(x.A,{className:"ml-1 h-4 w-4 ".concat("desc"===R?"transform rotate-180":"")})]})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",children:(0,t.jsx)("div",{className:"flex items-center",children:"Taxa Conv."})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("revenue"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["Receita","revenue"===C&&(0,t.jsx)(x.A,{className:"ml-1 h-4 w-4 ".concat("desc"===R?"transform rotate-180":"")})]})}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"URL"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[U.map(s=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:s.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 flex space-x-2",children:[(0,t.jsxs)("span",{children:["UTM: ",s.utmCampaign]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Fonte: ",s.utmSource]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Meio: ",s.utmMedium]})]})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(E(s.status)),children:["active"===s.status&&"Ativa","paused"===s.status&&"Pausada","draft"===s.status&&"Rascunho"]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(s.visits||0).toLocaleString("pt-BR")}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.conversions.toLocaleString("pt-BR")}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.visits&&s.visits>0?(s.conversions/s.visits*100).toFixed(2):"0.00","%"]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:["R$ ",s.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,t.jsxs)("div",{className:"flex space-x-1 justify-center",children:[(0,t.jsx)(f.$,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",title:"Copiar URL",onClick:()=>F(s.url,s.id),children:B===s.id?(0,t.jsx)(m.A,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(o.A,{className:"h-4 w-4"})}),(0,t.jsx)(f.$,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",title:"Abrir URL",asChild:!0,children:(0,t.jsx)("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(h.A,{className:"h-4 w-4"})})})]})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(f.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",title:"Editar",onClick:()=>e.push("/dashboard/campaigns/".concat(s.id,"/edit")),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(f.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",title:"Visualizar",onClick:()=>e.push("/dashboard/campaigns/".concat(s.id)),children:(0,t.jsx)(u.A,{className:"h-4 w-4"})}),(0,t.jsx)(f.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",title:"Excluir",onClick:()=>z(s.id),children:(0,t.jsx)(j.A,{className:"h-4 w-4"})})]}),S===s.id&&(0,t.jsxs)("div",{className:"absolute mt-2 p-3 bg-white border border-gray-200 rounded-md shadow-lg z-50 w-60 right-8",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700 mb-2 flex items-start",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-1 mt-0.5 text-amber-500 flex-shrink-0"}),(0,t.jsx)("span",{children:"Tem certeza que deseja excluir esta campanha?"})]}),(0,t.jsxs)("div",{className:"flex space-x-2 justify-end",children:[(0,t.jsx)(f.$,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>z(null),children:"Cancelar"}),(0,t.jsx)(f.$,{size:"sm",variant:"destructive",className:"h-7 text-xs",onClick:()=>{a(s.id),z(null)},children:"Excluir"})]})]})]})]},s.id)),0===U.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:b||"all"!==M?"Nenhuma campanha encontrada com os filtros selecionados":"Nenhuma campanha cadastrada. Crie uma nova campanha usando o bot\xe3o acima."})})]})]})}),(0,t.jsx)("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Exibindo ",(0,t.jsx)("span",{className:"font-medium",children:"1"})," a ",(0,t.jsx)("span",{className:"font-medium",children:U.length})," de"," ",(0,t.jsx)("span",{className:"font-medium",children:U.length})," resultados"]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,t.jsxs)("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",disabled:!0,children:[(0,t.jsx)("span",{className:"sr-only",children:"Anterior"}),(0,t.jsx)(x.A,{className:"h-5 w-5 rotate-90"})]}),(0,t.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),(0,t.jsxs)("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",disabled:!0,children:[(0,t.jsx)("span",{className:"sr-only",children:"Pr\xf3xima"}),(0,t.jsx)(x.A,{className:"h-5 w-5 -rotate-90"})]})]})})]})})})]})]})})}},22130:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>x,ZB:()=>n,Zp:()=>i,aR:()=>c,wL:()=>m});var t=a(95155),r=a(12115),l=a(21567);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});i.displayName="Card";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});c.displayName="CardHeader";let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",a),...r})});n.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});x.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"},23920:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},28880:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},33473:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},35765:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},36972:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},45686:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},48251:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},50878:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},74620:(e,s,a)=>{Promise.resolve().then(a.bind(a,9434))},84267:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},92598:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(82800).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[6978,4826,6300,5049,3979,8441,6587,7358],()=>s(74620)),_N_E=e.O()}]);