(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2102],{1327:(e,t,a)=>{Promise.resolve().then(a.bind(a,56249))},33900:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var i=a(95155),s=a(12115),r=a(21567);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,i.jsx)("input",{type:s,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},56249:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var i=a(95155),s=a(58803),r=a.n(s),l=a(12115),o=a(76046),n=a(48173),d=a.n(n),c=a(85060),m=a(69606),h=a(43415),x=a(30814),p=a(62455),u=a(80738),b=a(92598),f=a(70001),w=a(73312),g=a(33900),v=a(4254);let j=h.Ik({email:h.Yj().email("Email inv\xe1lido"),password:h.Yj().min(6,"A senha deve ter no m\xednimo 6 caracteres")});function y(){let[e,t]=(0,l.useState)(!1),[a,s]=(0,l.useState)(!1),[n,h]=(0,l.useState)([]),[y,N]=(0,l.useState)(!1),k=(0,o.useRouter)(),A=(0,v.C)(e=>e.login),{isAuthenticated:z,user:S}=(0,v.C)(e=>e.auth);(0,l.useEffect)(()=>{z&&(null==S?void 0:S.role)==="admin"&&k.push("/dashboard/admin")},[z,S,k]),(0,l.useEffect)(()=>{h(Array.from({length:50}).map((e,t)=>({id:"star-".concat(t,"-").concat(Math.random()),top:"".concat(100*Math.random(),"%"),left:"".concat(100*Math.random(),"%"),width:"".concat(2*Math.random()+1,"px"),height:"".concat(2*Math.random()+1,"px"),opacity:.7*Math.random()+.3}))),N(!0)},[]);let{register:M,handleSubmit:E,formState:{errors:C}}=(0,m.mN)({resolver:(0,c.u)(j),defaultValues:{email:"",password:""}}),R=async e=>{t(!0);try{let a=await A(e.email,e.password);if("admin"!==a.role){x.oR.error("Acesso negado. Apenas administradores podem acessar esta \xe1rea."),v.C.getState().logout(),t(!1);return}x.oR.success("Login realizado com sucesso!"),k.push("/dashboard/admin")}catch(e){console.error(e),x.oR.error("Falha ao fazer login. Verifique suas credenciais.")}finally{t(!1)}};return(0,i.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-r from-indigo-900 to-purple-900 text-white relative overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute inset-0",children:n.map(e=>(0,i.jsx)("div",{className:"star absolute bg-white rounded-full",style:{top:e.top,left:e.left,width:e.width,height:e.height,opacity:e.opacity}},e.id))}),(0,i.jsx)("div",{className:"absolute top-[15%] left-[10%] w-40 h-40 rounded-full bg-gradient-to-br from-purple-500 to-purple-800 opacity-20 blur-md"}),(0,i.jsx)("div",{className:"absolute bottom-[10%] right-[15%] w-60 h-60 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-700 opacity-20 blur-md"}),(0,i.jsxs)("div",{className:"max-w-md w-full relative z-10",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,i.jsx)("div",{className:"flex items-center justify-center h-20 w-20 rounded-full bg-white/10 backdrop-blur-sm shadow-lg p-4 mb-4",children:(0,i.jsx)(p.A,{className:"h-12 w-12 text-white"})}),(0,i.jsx)("h1",{className:"text-3xl font-bold",children:"Acesso Administrativo"}),(0,i.jsx)("p",{className:"text-lg text-indigo-200 mt-2",children:"Bueiro Digital"})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-white/20",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-6 text-center",children:"\xc1rea Restrita"}),(0,i.jsxs)("form",{onSubmit:E(R),className:"space-y-5",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-white/90 mb-1",children:"Email de Administrador"}),(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(g.p,{id:"email",type:"email",placeholder:"admin@bueiro.digital",...M("email"),className:"bg-white/5 border-white/10 text-white placeholder:text-white/50 ".concat(C.email?"border-red-500":"")})}),C.email&&(0,i.jsx)("p",{className:"text-red-300 text-xs mt-1",children:C.email.message})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-white/90 mb-1",children:"Senha"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(g.p,{id:"password",type:a?"text":"password",placeholder:"••••••••",...M("password"),className:"bg-white/5 border-white/10 text-white placeholder:text-white/50 ".concat(C.password?"border-red-500":"")}),(0,i.jsx)("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white",children:a?(0,i.jsx)(u.A,{size:18}):(0,i.jsx)(b.A,{size:18})})]}),C.password&&(0,i.jsx)("p",{className:"text-red-300 text-xs mt-1",children:C.password.message})]}),(0,i.jsx)(w.$,{type:"submit",className:"w-full h-11 bg-indigo-600 hover:bg-indigo-700",disabled:e,children:e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Autenticando..."]}):"Acessar Painel Administrativo"}),(0,i.jsx)("div",{className:"pt-4 text-center",children:(0,i.jsx)(d(),{href:"/",className:"text-sm text-indigo-300 hover:text-white",children:"Voltar para p\xe1gina inicial"})})]})]}),(0,i.jsxs)("div",{className:"mt-6 text-sm text-center text-indigo-300",children:[(0,i.jsx)("p",{children:"Para acessar como administrador, utilize:"}),(0,i.jsx)("p",{className:"font-mono mt-1",children:"Email: admin@bueiro.digital"}),(0,i.jsx)("p",{className:"font-mono mt-1",children:"Senha: admin123"})]})]}),y&&(0,i.jsx)(r(),{id:"29c7ef5a8d564883",children:"@-webkit-keyframes twinkle{0%,100%{opacity:1}50%{opacity:.3}}@-moz-keyframes twinkle{0%,100%{opacity:1}50%{opacity:.3}}@-o-keyframes twinkle{0%,100%{opacity:1}50%{opacity:.3}}@keyframes twinkle{0%,100%{opacity:1}50%{opacity:.3}}.star.jsx-29c7ef5a8d564883{-webkit-animation:twinkle linear infinite;-moz-animation:twinkle linear infinite;-o-animation:twinkle linear infinite;animation:twinkle linear infinite;-webkit-animation-duration:-webkit-calc(5s + (var(--i,0)*.5s));-moz-animation-duration:-moz-calc(5s + (var(--i,0)*.5s));-o-animation-duration:calc(5s + (var(--i,0)*.5s));animation-duration:-webkit-calc(5s + (var(--i,0)*.5s));animation-duration:-moz-calc(5s + (var(--i,0)*.5s));animation-duration:calc(5s + (var(--i,0)*.5s))}"})]})}},62455:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(82800).A)("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[6978,4826,814,9356,5049,8441,6587,7358],()=>t(1327)),_N_E=e.O()}]);