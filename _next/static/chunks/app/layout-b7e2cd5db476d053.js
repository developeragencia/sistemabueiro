(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{30347:()=>{},62455:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(82800).A)("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},66376:(e,r,s)=>{"use strict";s.d(r,{Providers:()=>m});var t=s(95155),a=s(30814),i=s(12115),n=s(76046),l=s(4254),c=s(70001),o=s(83514);function d(e){let{children:r}=e,[s,a]=(0,i.useState)(!0),d=(0,n.useRouter)(),m=(0,n.usePathname)(),{isAuthenticated:h,user:u}=(0,l.C)(e=>e.auth),{hasPermission:x}=(0,o.S)();return((0,i.useEffect)(()=>{let e=["/","/login","/register","/precos","/integracoes","/admin-login"],r=e.includes(m)||e.some(e=>m.startsWith("".concat(e,"/"))),s=m.startsWith("/dashboard/admin");h||r?h&&s&&(null==u?void 0:u.role)!=="admin"?d.push("/admin-login"):a(!1):d.push("/login?redirect=".concat(encodeURIComponent(m)))},[h,m,d,u]),s)?(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-white",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,t.jsx)("p",{className:"mt-4 text-gray-500",children:"Verificando autentica\xe7\xe3o..."})]})}):(0,t.jsx)(t.Fragment,{children:r})}function m(e){let{children:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.l$,{richColors:!0,position:"top-right"}),(0,t.jsx)(d,{children:r})]})}},70889:(e,r,s)=>{"use strict";s.d(r,{default:()=>a});var t=s(95155);function a(e){let{children:r}=e;return(0,t.jsx)(t.Fragment,{children:r})}},78346:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_d65c78"}},83514:(e,r,s)=>{"use strict";s.d(r,{L:()=>m,S:()=>h});var t=s(95155),a=s(12115),i=s(76046),n=s(4254),l=s(70001),c=s(62455),o=s(73312);let d={admin:["gerenciar_usuarios","gerenciar_campanhas","gerenciar_integra\xe7\xf5es","gerenciar_configuracoes","ver_relatorios","exportar_dados","gerenciar_permissoes","acessar_admin"],editor:["gerenciar_campanhas","ver_relatorios","exportar_dados"],viewer:["ver_relatorios"]};function m(e){let{children:r,requiredPermissions:s,fallback:m}=e,[h,u]=(0,a.useState)(!0),[x,p]=(0,a.useState)(!1),f=(0,i.useRouter)(),{user:g,isAuthenticated:j}=(0,n.C)(e=>e.auth);return((0,a.useEffect)(()=>{if(!j||!g){u(!1),p(!1);return}let e=Array.isArray(s)?s:[s],r=d[g.role]||[];p(e.every(e=>r.includes(e))),u(!1)},[j,g,s]),h)?(0,t.jsxs)("div",{className:"flex items-center justify-center h-full p-8",children:[(0,t.jsx)(l.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,t.jsx)("span",{className:"ml-2 text-gray-500",children:"Verificando permiss\xf5es..."})]}):x?(0,t.jsx)(t.Fragment,{children:r}):m?(0,t.jsx)(t.Fragment,{children:m}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[(0,t.jsx)(c.A,{className:"h-16 w-16 text-amber-500 mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Restrito"}),(0,t.jsx)("p",{className:"text-gray-500 mb-6 max-w-md",children:"Voc\xea n\xe3o tem permiss\xe3o para acessar esta funcionalidade. Entre em contato com um administrador para solicitar acesso."}),(0,t.jsx)(o.$,{onClick:()=>f.push("/dashboard"),className:"bg-primary text-white",children:"Voltar para o Dashboard"})]})}function h(){let{user:e}=(0,n.C)(e=>e.auth);return{hasPermission:r=>{if(!e)return!1;let s=Array.isArray(r)?r:[r],t=d[e.role]||[];return s.every(e=>t.includes(e))}}}},91628:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,78346,23)),Promise.resolve().then(s.bind(s,70889)),Promise.resolve().then(s.t.bind(s,30347,23)),Promise.resolve().then(s.bind(s,66376))}},e=>{var r=r=>e(e.s=r);e.O(0,[3838,6978,4826,814,5049,8441,6587,7358],()=>r(91628)),_N_E=e.O()}]);